<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="/snowdog.jpeg">
    <title>MBTI T/F 심리테스트</title>
    <link href="index.css" rel="stylesheet">
</head>
<body class="flex">
    <div id="container">
        <header class="logo flex">
            <p>
                <span id="millennium">Millennium</span>
                <span id="dragon">Dragons</span>
            </p>
        </header>

        <main>
            <img id="mainImg" src="/snowdog.jpeg"/>
            <p class="text">[MBTI TEST] 재미로 보는 T/F 테스트</p>
            <div class="testBtnBox flex">
                <button type="button" id="startTest" class="testBtn" onclick="location.href='testPage.html'">테스트 시작하기</button>
                <button type="button" id="history" class="testBtn">기록보기</button>
            </div>
            <div class="shareBtnBox flex">
                <a id="kakaotalk-sharing-btn" href="javascript:;">
                    <img src="https://developers.kakao.com/assets/img/about/logos/kakaotalksharing/kakaotalk_sharing_btn_medium.png"
                    alt="카카오톡 공유하기" />
                </a>
                <button type="button" id="share" class="shareBtn" data-clipboard-text="https://tf-test-server.netlify.app/">
                    <img src="/shareIcon.png" alt="링크 복사하기" id="shareIcon">
                </button>
            </div>
        </main>
    </div>

    <!--카카오톡 공유-->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.6.0/kakao.min.js"
        integrity="sha384-6MFdIr0zOira1CHQkedUqJVql0YtcZA1P0nbPrQYJXVJZUkTk/oX4U9GhUIs3/z8" crossorigin="anonymous">
    </script>
    <script>
        // SDK를 초기화, 사용할 앱의 JavaScript 키를 설정
        Kakao.init('3c459c5810b76c81ae161f275304414a');

        // SDK 초기화 여부를 판단
        console.log(Kakao.isInitialized());
    </script>

    <script>
        Kakao.Share.createDefaultButton({
            container: '#kakaotalk-sharing-btn',
            objectType: 'feed',
            content: {
            title: 'TF_TEST_SERVER',
            description: 'tf 심리테스트', //콘텐츠 상세 상세설명
            imageUrl: '/snowdog.jpeg',
            link: {
                mobileWebUrl: 'https://tf-test-server.netlify.app/', //모바일 카카오톡에서 사용하는 웹링크 url
                webUrl: 'https://tf-test-server.netlify.app/', //PC버전 카카오톡에서 사용하는 웹링크 url
            },
            },
            //공유시 제일 위에 나타나는 헤더 
            itemContent: {
            //원형 형태의 사진 + 텍스트 
            profileText: 'Kakao', //헤더 or 프로필 영역에 출력될 텍스트
            profileImageUrl: '/snowdog.jpeg', //프로필 영역에 출력될 이미지 (작은 원형 프로필 사진 형태)
            //그 아래 설명 콘텐츠
            titleImageUrl: '/snowdog.jpeg', //이미지 아이템의 이미지
            titleImageText: 'tf_test', //이미지 아이템 제목
            titleImageCategory: 'mbti' //이미지 아이템 제목 아래 회식 글씨로 출력되는 카테고리 정보
            },
            buttons: [
            {
                title: '웹으로 이동',
                link: {
                mobileWebUrl: 'https://developers.kakao.com',
                webUrl: 'https://developers.kakao.com',
                },
            }
            ],
        });
        Kakao.Share.createDefaultButton();
    </script>

    <!--sweet alert / alert 창 꾸미기 (명령어: npm install sweetalert --save)-->
    <!--참고: https://sweetalert.js.org/guides/-->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <!--링크 복사 clipboard api 사용 (명령어: npm install clipboard --save)--> 
    <!--참고: https://github.com/zenorocha/clipboard.js/-->
    <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
    <script>
        let clipboard = new Clipboard('.shareBtn');

        clipboard.on('success', function (e) {
        swal("복사되었습니다!","", "success")
        });      
    </script>
</body>
</html>